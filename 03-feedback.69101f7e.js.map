{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MACMC,EAAOC,SAASC,cAAc,kBACpC,IAAIC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,uBAC5CC,MAAEC,EAAKC,QAAEC,GAAYX,EAAKY,SAE9BZ,EAAKa,iBAAiB,QAASC,EAAAhB,EAAA,EAY/B,SAAmBiB,GACjBZ,EAAY,CAAEK,MAAOC,EAAMO,MAAON,QAASC,EAAQK,OACnDV,aAAaW,QAAQ,oBAAqBb,KAAKc,UAAUf,G,GAdR,MACnDH,EAAKa,iBAAiB,UAgBtB,SAAsBE,GAEpB,GADAA,EAAII,iBACoB,KAApBhB,EAAUK,OAAsC,KAAtBL,EAAUO,QACtC,OAAOU,MAAM,+BAEfC,QAAQC,IAAInB,GACZY,EAAIQ,cAAcC,QAClBlB,aAAamB,WAAW,oB,IAlBpBtB,IACFM,EAAMO,MAAQb,EAAUK,MACxBG,EAAQK,MAAQb,EAAUO","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nlet inputData = JSON.parse(localStorage.getItem('LOCAL_STORAGE_KEY'));\nlet { email, message } = form.elements;\n\nform.addEventListener('input', throttle(dataInput, 500));\nform.addEventListener('submit', onFormSubmit);\n\npopulateTextarea();\n\nfunction populateTextarea() {\n  if (inputData) {\n    email.value = inputData.email;\n    message.value = inputData.message;\n  }\n}\n\nfunction dataInput(evt) {\n  inputData = { email: email.value, message: message.value };\n  localStorage.setItem('LOCAL_STORAGE_KEY', JSON.stringify(inputData));\n}\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  if (inputData.email === '' || inputData.message === '') {\n    return alert('Please, fill in all fields!');\n  }\n  console.log(inputData);\n  evt.currentTarget.reset();\n  localStorage.removeItem('LOCAL_STORAGE_KEY');\n}\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$inputData","JSON","parse","localStorage","getItem","email","$945622fd0f572e60$var$email","message","$945622fd0f572e60$var$message","elements","addEventListener","$parcel$interopDefault","evt","value","setItem","stringify","preventDefault","alert","console","log","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.69101f7e.js.map"}