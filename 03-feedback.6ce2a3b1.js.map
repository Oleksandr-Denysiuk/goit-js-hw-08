{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAGMC,EAAOC,SAASC,cAAc,kBAChCC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,sBACvBC,EAAAR,EAAKS,SAAxBC,EAAmBF,EAAnBG,MAAOC,EAAYJ,EAAZK,QAEbb,EAAKc,iBAAiB,QAASC,EAAAjB,EAAA,EAY/B,SAAmBkB,GACjBb,EAAY,CAAEQ,MAAOD,EAAMO,MAAOJ,QAASD,EAAQK,OACnDX,aAAaY,QAAQ,oBAAqBd,KAAKe,UAAUhB,G,GAdR,MACnDH,EAAKc,iBAAiB,UAgBtB,SAAsBE,GAEpB,GADAA,EAAII,iBACoB,KAApBjB,EAAUQ,OAAsC,KAAtBR,EAAUU,QACtC,OAAOQ,MAAM,+BAEfC,QAAQC,IAAIpB,GACZa,EAAIQ,cAAcC,QAClBnB,aAAaoB,WAAW,oB,IAlBpBvB,IACFO,EAAMO,MAAQd,EAAUQ,MACxBC,EAAQK,MAAQd,EAAUU,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nlet inputData = JSON.parse(localStorage.getItem('LOCAL_STORAGE_KEY'));\nlet { email, message } = form.elements;\n\nform.addEventListener('input', throttle(dataInput, 500));\nform.addEventListener('submit', onFormSubmit);\n\npopulateTextarea();\n\nfunction populateTextarea() {\n  if (inputData) {\n    email.value = inputData.email;\n    message.value = inputData.message;\n  }\n}\n\nfunction dataInput(evt) {\n  inputData = { email: email.value, message: message.value };\n  localStorage.setItem('LOCAL_STORAGE_KEY', JSON.stringify(inputData));\n}\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  if (inputData.email === '' || inputData.message === '') {\n    return alert('Please, fill in all fields!');\n  }\n  console.log(inputData);\n  evt.currentTarget.reset();\n  localStorage.removeItem('LOCAL_STORAGE_KEY');\n}\n"],"names":["$eaxEB","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$inputData","JSON","parse","localStorage","getItem","$b00c40859be242c5$var$_elements","elements","$b00c40859be242c5$var$email","email","$b00c40859be242c5$var$message","message","addEventListener","$parcel$interopDefault","evt","value","setItem","stringify","preventDefault","alert","console","log","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.6ce2a3b1.js.map"}